% --------------------------------
% This file contains a custom set
% of commands to make writing
% LaTeX easier
% --------------------------------

% makes 0.05 inches of horizontal space
\newcommand{\vertspace}{\vspace{0.05in}}

% writes centered italic text 80% width of the page/column and gives top & bottom padding
\newcommand{\question}[1]{\vertspace\begin{center}\parbox{0.8\linewidth}{\centering\textit{#1}}\end{center}\vertspace}

% Writes a single paragraph of Lorum Ipsum text
\newcommand{\lorem}{Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam eget tortor a urna ornare pellentesque. Integer sit amet purus nec sem iaculis euismod. Duis at ipsum eu libero pharetra egestas. Quisque eleifend odio velit, at sollicitudin metus dictum eu. Integer nec mi congue, gravida nibh sed, faucibus mauris. Sed vel ipsum lobortis felis gravida dignissim. Curabitur vestibulum turpis eu orci lacinia consectetur.}

% APA style qoutes
\usepackage{xstring}
\newcommand{\qoute}[3]{%
  % Count the number of words in the quote
  \StrCount{#1}{ }[\woordenaantal]%
  \ifthenelse{\woordenaantal < 39}{``\textit{#1}'' (\citeauthor{#2}, \citeyear{#2}, p. #3)}% Kort citaat (minder dan 40 woorden)
  {
    \vertspace
    \begin{flushright}
      \parbox{0.95\linewidth}{\textit{#1}}
      (\citeauthor{#2}, \citeyear{#2}, p. #3)
    \end{flushright}
    \vertspace % Lang citaat (40 woorden of meer)
  }
}

% cites like \parencite[prenote][postnote]{cite}
\newcommand{\parencite}[3][]{%
    (#1 \citeauthor{#3}, \citeyear{#3}#2)%
}



% command for Editor's notes and comments
% defines custom commands:
% - \editorsonly{...} for inline comments
% - \begin{editorsonlyBox} ... \end{editorsonlyBox} for boxed comments
% - \editorsfootnote{...} for comments in footnotes
\ifthenelse{\boolean{editorsversion}}{%
    % EDITORS VERSION
    % inline red comments - compact, no paragraph indentation
    \newcommand{\editorsonly}[1]{%
        \par\vspace{0.05in}
        {\footnotesize\noindent\textcolor{red!70!black}{\textbf{Editor's note:} #1}}%
        \par\vspace{0.05in}
    }

    % environment for soft-background editor comments
    \newenvironment{editorsonlyBox}{%
        \par\medskip
        \begin{tcolorbox}[
            enhanced,
            breakable,
            colback=red!5,
            colframe=red!20!white,
            boxrule=0pt,
            borderline north={1pt}{0pt}{red!40!white},
            sharp corners,
            before skip=6pt,
            after skip=6pt,
            title={\textcolor{red!60!black}{\footnotesize Comment for editors:}},
            coltitle=red!70!black,
            fonttitle=\bfseries,
            top=2pt,
            bottom=2pt,
            left=4pt,
            right=4pt
        ]
    }{%
        \end{tcolorbox}
    }

    % red footnotes for editors
    \newcommand{\editorsfootnote}[1]{%
        \textcolor{red!70!black}{\footnote{\textcolor{red!70!black}{Editor's note: #1}}}%
    }

    % command to cite all references in the .bib file (for editors only)
    \nocite{*}
}{%
% STUDENT VERSION: suppress all editor content
    \newcommand{\editorsonly}[1]{\ignorespaces}
    \newenvironment{editorsonlyBox}{\comment}{\uncomment}
    \newcommand{\editorsfootnote}[1]{}
}

%%% ---------- TEXT SPLITTER ----------
%    The \splittext{<text>}{<n>} command splits <text> into lines of maximum <n> characters.
%    It inserts a line break (\\) every n characters.
%
%    Example usage:
%    \splittext{This is an example of splitting text into multiple lines every n characters.}{10}
%
%    This will produce:

\ExplSyntaxOn
\NewDocumentCommand{\spliteveryn}{mm}
 {
  % #1 = number of characters per line
  % #2 = text to split
  \str_set:Nn \l_tmpa_str { #2 }
  \int_zero:N \l_tmpa_int
  \str_map_inline:Nn \l_tmpa_str
   {
    ##1
    \int_incr:N \l_tmpa_int
    \int_compare:nNnT { \l_tmpa_int } = { #1 }
     {
      \\
      \int_zero:N \l_tmpa_int
     }
   }
 }
\ExplSyntaxOff



%%% ---------- TABLE MACROS ----------
%    To use the SimpleTable command, use the following format:
%    \SimpleTable{<caption>}{<label>}{%
%        \TableRow{<Aspect 1>}{<Description 1>}
%        \TableRow{<Aspect 2>}{<Description 2>}
%        ...
%    }
%
%    Example usage:
%
%    \SimpleTable
%    {Overzicht van de belangrijkste elementen uit \textit{Smart Doorbell Security System Using IoT}.}
%    {tab:doorbell}
%    {
%        \TableRow{Probleemstelling}{Bestaande beveiligingssystemen vertrouwen enkel op gezichtsherkenning; onbekende gezichten worden niet gecontroleerd of gemeld.}
%        \TableRow{Doel van het systeem}{Ontwikkelen van een slimme deurbel die gebruikmaakt van IoT, gezichtsherkenning, stemherkenning en bewegingsdetectie om bezoekers automatisch te identificeren.}
%        \TableRow{Werking}{Bij het aanbellen activeert de Raspberry Pi een camera; de foto wordt vergeleken met een database van geregistreerde gezichten. Onbekende bezoekers leiden tot een e-mailmelding met foto en OTP naar de eigenaar.}
%        \TableRow{TechnologieÃ«n}{Raspberry Pi, OpenCV (beeldverwerking), DSP (stemherkenning), Speech-to-Text, e-mailserver voor OTP-verzending.}
%    }

\NewDocumentCommand{\SimpleTable}{m m m}{%
    \begin{table}[h]
        \centering
        \resizebox{\columnwidth}{!}{%
            \begin{tabular}{@{}p{0.25\linewidth}p{0.7\linewidth}@{}}
                \toprule
                \textbf{Aspect} & \textbf{Beschrijving} \\ \midrule
                #3 \\ % the rows
                \bottomrule
            \end{tabular}%
        }
        \caption{#1}
        \label{#2}
    \end{table}%
}

% command for table rows
\NewDocumentCommand{\TableRow}{m m}{%
    #1 & #2 \\
}